<!DOCTYPE html>
<html>
<head>
    <!-- Meta -->
    <meta charset="utf-8"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>

    <meta name="description" content="Mobile, Web and JavaScript" />

<title>JPtacek.com - JPtacek.com | Musings on code and who knows what 3ls3</title>
    <meta name="generator" content="DocPad v6.78.4" />
    

    <meta name="author" content="John Ptacek">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="/styles/chemistry.css" rel="stylesheet" />
    <link href="/styles/site.css" rel="stylesheet" />
    <link href="/css/highlight.css" rel="stylesheet" />
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

</head>
<body>

<a href="https://plus.google.com/+JohnPtacek?rel=author" class="google googleplus-hidden" title="Google+">Google+</a>



<div class="navbar navbar-default navbar-static-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">John Ptacek</a> <div class="navbar-brand"> - Musings on Code</div>
        </div>
        <div class="collapse navbar-collapse navbar-right">
            <ul class="nav navbar-nav">
                <!--<li><a href="/">Blog</a></li>-->
                
                    <li><a href="/archives/">Archives</a></li>
                
                    <li><a href="/about/">About</a></li>
                
                <li class="hidden-xs">
                    <a href="/feed/index.xml" class="rss"><i class="fa fa-rss fa-lg"></i></a>
                    <a href="https://twitter.com/jptacek" class="twitter"><i class="fa fa-twitter fa-lg"></i></a>
                    <a href="https://plus.google.com/+johnptacek" class="googleplus"><i class="fa fa-google-plus fa-lg"></i></a>
                    <a href="https://linkedin.com/in/johnptacek" class="linkedin"><i class="fa fa-linkedin fa-lg"></i></a>
                    <a href="https://stackoverflow.com/users/39797/john-ptacek" class="stackoverflow"><i class="fa fa-stack-overflow fa-lg"></i></a>
                    <a href="https://github.com/jptacek" class="github"><i class="fa fa-github fa-lg"></i></a>
                </li>
            </ul>
            <form class="navbar-form navbar-right hidden-xs" role="search" action="https://google.com/search"
                  method="get">
                <div class="form-group">
                    <input type="search" name="q" class="form-control" placeholder="Search">
                    <input type="hidden" name="q" value="site:jptacek.com">
                </div>
            </form>
        </div>
    </div>
</div>

<div class="container">
        <div class="col-sm-12 col-md-10">
            
    <article class="post">
    
    <h1><a href='/2014/12/angularJS-further-with-directives/'>AngularJS - Further with Directives</a></h1>
    
        <div class="post-date">Dec 10th, 2014</div>

    <div class="post-content">
        <p><a href="http://www.angularjs.org">AngularJS</a> is a Javascript MVC framework from the fine folks over at
<a href="http://www.google.com">Google</a>. The focus of Angular is building complex
 HTML based client applications. Its design philosophy is data first, where your data will be updating the DOM.
 Contrast this to a framework like JQuery where the DOM will update your data.</p>
<p><img src="/2014/12/angularJS-further-with-directives/angularLogo.png" alt="AngularJS Logo"></p>
<p>This is the tenth (I know, right!!?!!?!) in a series of posts on AngularJS where we are using Chemistry data from the periodic table
to help us understand the framework. The others posts are</p>
<ol>
<li><a href="http://www.jptacek.com/2013/10/angularjs-introduction/">AngularJS - Introduction</a></li>
<li><a href="http://www.jptacek.com/2013/10/introducing-angularjs-controllers/">AngularJS - Introducing AngularJS Controllers</a></li>
<li><a href="http://www.jptacek.com/2013/10/angularjs-introducing-ng-repeat/">AngularJS - Introducing NG-Repeat</a></li>
<li><a href="http://www.jptacek.com/2014/01/angularjs-further-with-ng-repeat/">AngularJS - More with NG-Repeat</a></li>
<li><a href="http://www.jptacek.com/2014/01/angularjs-lou-reed/">AngularJS - Image Binding</a></li>
<li><a href="http://www.jptacek.com/2014/02/angularJS-templates/">AngularJS - Introducing Templates</a></li>
<li><a href="http://www.jptacek.com/2014/02/angularJS-IntroToRouting/">AngularJS - Introducing Routing</a></li>
<li><a href="http://www.jptacek.com/2014/05/angularJS-Intro-To-Services/">AngularJS - Introduction to Services</a></li>
<li><a href="http://www.jptacek.com/2014/06/angularJS-intro-to-directives/">AngularJS - Introduction to Directives</a></li>
<li>AngularJS - Further with Directives</li>
<li><a href="http://jptacek.com/2015/02/angularJS-Best-Practices/">AngularJS - Best Practices</a></li>
<li><a href="http://jptacek.com/2015/03/angularJS-CSS-Animation/">AngularJS - CSS Animations</a></li>
</ol>
<blockquote>
<p>Note: AngularJS does not allow for more than one ng-app directive. When I have multiple angular posts on
the home page of my blog, only one application will work. I need to refactor the entire site to account for
this. All of that to say this, you are best clicking on a single article so you can see the pages in action.</p>
</blockquote>
<p>Previously, we took an introductory look at directives. This time we will go a bit deeper.</p>
<p>In our previous example, we displayed data from the periodic table, specifically, the atomic weight, atomic number
and element name. Our data source, has a lot more information, such as boiling and melting points, density, etc. In
this example, we will expand the directive by enabling a click event to display expanded data about the selected element.</p>
<p>The first thing to mention is scope. Scope, as we have already seen, is the magical tool that Angular uses to
communicate between your view and services, etc. By default, a directive does not get a new child scope, but
uses the parent scope. So, in our case, when the directive is inside a controller, it will use the
controller&#39;s scope.</p>
<p>To get access to the scope, we can use the <code>link</code> function. The <code>link</code> function gets called every time the
element gets bound to the data in the <code>$scope</code> object. In general, <code>link</code> is used to manipulate the Document
Object Model (DOM),
either by adding event listeners or updating the DOM.</p>
<p>The link function takes three arguments:</p>
<ul>
<li><code>scope</code> - Scope gets passed to the directive. This is generally the scope of the calling controller</li>
<li><code>elem</code> - The element on which the directive is derived. In our case, it will be the template markup for
the chemical element</li>
<li><code>attrs</code> - Attributes associated with our element</li>
</ul>
<p>It is worth noting that AngularJS ships with jQLite, which is a subset of the full
<a href="http://jquery.com/">jQuery</a> library. If you are using full
jQuery within your web app, then that will be used instead. All of that to say this, you access DOM elements
similarly as you do in jQuery, and since jQuery is already wrapped, you don&#39;t need to use your old school
<code>$</code> for access.</p>
<p>In our example, we are going to use the <code>link</code> function to manipulate the DOM. First, let us take a look
at the JavaScript</p>
<pre class="highlight"><code class="hljs javascript">chemistryApp.directive(<span class="hljs-string">'periodicChartElement'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(chemistryService)</span> </span>{;
    <span class="hljs-keyword">return</span> {
        restrict: <span class="hljs-string">'E'</span>,
        templateUrl: <span class="hljs-string">'./template/periodic-template.html'</span>,
        link: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(scope, elem, attrs)</span> </span>{
            elem.bind(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
                <span class="hljs-comment">// Change state</span>
                scope.$apply(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
                    scope.fullElement = !(scope.fullElement);
                });

            });
            elem.bind(<span class="hljs-string">'mouseover'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
                elem.css(<span class="hljs-string">'cursor'</span>, <span class="hljs-string">'pointer'</span>);
            });

        },
        scope:{
            element:<span class="hljs-string">'='</span>
        }

    }

});
</code></pre>
<p>With the exception of adding the link function, things are pretty similar to before. The link function does several
pieces of functionality that are worth nothing though.</p>
<p>First, we bind a click event to our chemical element. When
that click event is called, we update a boolean variable on our scope, which is our parent scope from the calling
controller and set it to the opposite. Second, we also bind a mouseover event to manipulate our CSS to change the
 cursor to a pointer. As you can see, this is an elegant way to add event behavior to our directive.</p>
<p>Our template has now also been updated. The boolean scope variable that we update on the click event,
<code>fullElement</code> is used to show one of two different
HTML &quot;paths&quot; in our template, one shows a small subset of data, the other a larger subset of data from the periodic
table.</p>
<pre class="highlight"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">'periodicCell {{element.cssForDisplay}}'</span> <span class="hljs-attribute">data-ng-hide</span>=<span class="hljs-value">"fullElement"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"atomicNumber"</span>&gt;</span>{{element.atomicNumber}}<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"atomicWeight"</span>&gt;</span>{{element.atomicWeight}}<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"atomicSymbol"</span>&gt;</span>{{element.symbol}}<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"centerElementDisplay"</span>&gt;</span>{{element.name }}<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">'periodicPop {{element.cssForDisplay}}'</span>  <span class="hljs-attribute">data-ng-show</span>=<span class="hljs-value">"fullElement"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"atomicNumberPop"</span>&gt;</span>{{element.atomicNumber}}<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"atomicWeightPop"</span>&gt;</span>{{element.atomicWeight}}<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"atomicSymbolPop"</span>&gt;</span>{{element.symbol}}<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"density"</span>&gt;</span>{{element.density || '-'}}<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"meltingPoint"</span>&gt;</span>{{element.melting + 273.15|number:2}}<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"boilingPoint"</span>&gt;</span>{{element.boiling + 273.15|number:2}}<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"elecConfig"</span>&gt;</span>{{element.elecconfig }}<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"elctroNeg"</span>&gt;</span>{{element.electronegativity}}<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"centerElementDisplayPop"</span>&gt;</span>{{element.name }}<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
</code></pre>
<p>It is also worth talking a bit about scope in directives. As we mentioned earlier, by default, you are binding to the parent scope of the controller.
In many instances this will work well, but if you want to display your directive more than once on a page, you would need a
controller for each directive. That is no good.</p>
<p>AngularJS introduces the ability to create an isolated scope, which is what we are doing in our example. This allows us
to use our directive multiple times on the same page. There are binding options in setting up the directive variables that we should
briefly touch on.</p>
<p>The various options for
setting up variables in the directive scope are:</p>
<ul>
<li><code>=</code> - Set up two way binding between the parent scope and our isolated scope</li>
<li><code>@</code> - Set up one way binding between the parent scope adn the isolate scope</li>
<li><code>&amp;</code> - Allows to bind to parent scope functions</li>
</ul>
<p>Dan Wahlin has done an outstanding job on his blog of digging in deeper into directives and scope. His articles are at</p>
<ol>
<li><a href="http://weblogs.asp.net/dwahlin/creating-custom-angularjs-directives-part-i-the-fundamentals">Creating Custom AngularJS Directives Part I – The Fundamentals</a></li>
<li><a href="http://weblogs.asp.net/dwahlin/creating-custom-angularjs-directives-part-2-isolate-scope">Creating Custom AngularJS Directives Part 2 – Isolate Scope</a></li>
<li><a href="http://weblogs.asp.net/dwahlin/creating-custom-angularjs-directives-part-3-isolate-scope-and-function-parameters">Creating Custom AngularJS Directives Part 3 - Isolate Scope and Function Parameters</a></li>
<li><a href="https://weblogs.asp.net/dwahlin/creating-custom-angularjs-directives-part-4-transclusion-and-restriction">Creating Custom AngularJS Directives Part 4 - Transclusion and Restriction</a></li>
<li><a href="https://weblogs.asp.net/dwahlin/creating-custom-angularjs-directives-part-7-%E2%80%93-creating-a-unique-value-directive-using-asyncvalidators">Creating Custom AngularJS Directives Part 7 – Creating a Unique Value Directive using $asyncValidators</a></li>
</ol>
<p>Parts 5 and 6 should be coming too.</p>
<p>We also have updated our page to show multiple elements to demonstrate a single directive interacting with unique scope. It
is not very robust, so picking items at the end, aka Curium, will cause some issues.</p>
<div id="app" ng-app="chemistryApp">
    <div id="controller" ng-controller="chemistryController">

        <div class="row">
            <select ng-model="periodicElement" ng-options="e.name for e in elements"></select><br>
        </div>
        <div class="row">
            &nbsp;
        </div>
        <div class="row">
            &nbsp;
        </div>
        <div class="row">
            <div class="col-md-2">
                <periodic-chart-element element="periodicElement"></periodic-chart-element>
            </div>
            <div class="col-md-2">
                &nbsp;
            </div>
            <div class="col-md-2">
                <periodic-chart-element element="elements[periodicElement.atomicNumber]"></periodic-chart-element>
            </div>
            <div class="col-md-2">
                &nbsp;
            </div>
            <div class="col-md-2">
                <periodic-chart-element element="elements[periodicElement.atomicNumber+1]"></periodic-chart-element>
            </div>
        </div>
    </div>
</div>

<p><br></p>
<p>So to recap, with directives we have created our HTML markup element <code>periodic-chart-element</code> where we can put multiple elements
onto a single page by updating our directive to use its own version of scope.</p>
<p>It has been several months since my last Angular blog post. More are coming. I have a plan for all of this, ultimately we
will create an application that is the periodic table, done AngularJS style.</p>
<p>You can either visit <a href="http://angularperiodic.azurewebsites.net/">http://angularperiodic.azurewebsites.net/</a> to see the code in action and
as always find the code out on <a href="https://github.com/jptacek/AngularPeriodic">GitHub</a>.</p>
<p>Thanks for reading!</p>

    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/angularjs/'>AngularJS</a>, <a href='/tags/javascript/'>JavaScript</a>, <a href='/tags/web/'>Web</a>
    </div>
    
    <br/>
    By <a href="https://plus.google.com/+JohnPtacek?rel=author">John Ptacek</a><br/>
    <p>&nbsp;</p>

</article>

    <article class="post">
    
    <h1><a href='/2014/08/2014-that-conference-presentation/'>2014 That Conference</a></h1>
    
        <div class="post-date">Aug 12th, 2014</div>

    <div class="post-content">
        <p>Thanks to everyone wbo attended my That Conference talk this year. I enjoyed the conversations about the talk during and
throughout the day.</p>
<p>The slides are available at <a href="/2014/08/2014-that-conference-presentation/2014-That-Conference.pptx">https://www.jptacek.com/2014/08/2014-that-conference-presentation/2014-That-Conference.pptx</a></p>
<p><img src="/2014/08/2014-that-conference-presentation/ThatConf.jpg" alt="Clark Sell playing flappy bird"></p>

    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/speaking/'>Speaking</a>, <a href='/tags/that-conference/'>That Conference</a>, <a href='/tags/health/'>Health</a>, <a href='/tags/conference/'>Conference</a>
    </div>
    
    <br/>
    By <a href="https://plus.google.com/+JohnPtacek?rel=author">John Ptacek</a><br/>
    <p>&nbsp;</p>

</article>

    <article class="post">
    
    <h1><a href='/2014/06/angularJS-intro-to-directives/'>AngularJS - Introduction to Directives</a></h1>
    
        <div class="post-date">Jun 3rd, 2014</div>

    <div class="post-content">
        <p><a href="http://www.angularjs.org">AngularJS</a> is a Javascript MVC framework from the fine folks over at
<a href="http://www.google.com">Google</a>. The focus of Angular is building complex
 HTML based client applications. Its design philosophy is data first, where your data will be updating the DOM.
 Contrast this to a framework like JQuery where the DOM will update your data.</p>
<p><img src="/2014/06/angularJS-intro-to-directives/angularLogo.png" alt="AngularJS Logo"></p>
<p>This is the ninth in a series of posts on AngularJS where we are using Chemistry data from the periodic table
to help us understand the framework. The others posts are</p>
<ol>
<li><a href="http://www.jptacek.com/2013/10/angularjs-introduction/">AngularJS - Introduction</a></li>
<li><a href="http://www.jptacek.com/2013/10/introducing-angularjs-controllers/">AngularJS - Introducing AngularJS Controllers</a></li>
<li><a href="http://www.jptacek.com/2013/10/angularjs-introducing-ng-repeat/">AngularJS - Introducing NG-Repeat</a></li>
<li><a href="http://www.jptacek.com/2014/01/angularjs-further-with-ng-repeat/">AngularJS - More with NG-Repeat</a></li>
<li><a href="http://www.jptacek.com/2014/01/angularjs-lou-reed/">AngularJS - Image Binding</a></li>
<li><a href="http://www.jptacek.com/2014/02/angularJS-templates/">AngularJS - Introducing Templates</a></li>
<li><a href="http://www.jptacek.com/2014/02/angularJS-IntroToRouting/">AngularJS - Introducing Routing</a></li>
<li><a href="http://www.jptacek.com/2014/05/angularJS-Intro-To-Services/">AngularJS - Introduction to Services</a></li>
<li>AngularJS - Introduction to Directives</li>
<li><a href="http://www.jptacek.com/2014/12/angularJS-further-with-directives/">AngularJS - Further with Directives</a></li>
<li><a href="http://jptacek.com/2015/02/angularJS-Best-Practices/">AngularJS - Best Practices</a></li>
<li><a href="http://jptacek.com/2015/03/angularJS-CSS-Animation/">AngularJS - CSS Animations</a></li>
</ol>
<blockquote>
<p>Note: AngularJS does not allow for more than one ng-app directive. When I have multiple angular posts on
the home page of my blog, only one application will work. I need to refactor the entire site to account for
this. All of that to say this, you are best clicking on a single article so you can see the pages in action.</p>
</blockquote>
<p>On the AngularJS <a href="https://angularjs.org/">homepage</a> you see the claim that Angular is &quot;HTML Enhanced for Web Apps!&quot;
What does this actually mean though? For me, it means directives, which allow us to extend HTML and create new HTML
markup. Let us pretend and call it our own HTML 6.</p>
<p><img src="/2014/06/angularJS-intro-to-directives/htmlEnhanced.png" alt="AngularJS HomePage"></p>
<p>HTML, when initially created, was a subset of SGML, which is popular in the print industry. HTML, especially in the early
days, kept a lot of the print mentality. However, during the period when Web 2.0 applications emerged, it became
obvious that HTML was moving way
beyond it&#39;s print background and becoming an application platform itself.</p>
<p>Given it&#39;s print background and laborious standards process that defines the HTML specification, HTML is relatively fixed
platform. Your chances of getting a new tag into the standard for use in your application in the next ten years are
pretty close to zero. However, Google starts earning the superheroic name it gave AngularJS by solving this problem with
directives. To my knowledge, they are the only JavaScript framework that enables you to do this so far.</p>
<p>While we have seen directives previously, they have been attributes that allow us to markup existing HTML elements with
bits and pieces of Angular functionality. Examples of this have been <code>ng-show</code> or <code>ng-repeat</code>. For this post, we are
going to make a custom directive, which will allow us to create our own HTML tag.</p>
<p>The value of creating our own tags, is that it allows us to
start thinking of our HTML markup as a domain specific language. Throughout this series, we have been using Chemistry data
to explore Angular. In keeping with that theme, we are going to create a simple custom directive to display chemical
data in its own &quot;HTML&quot; tag called <code>periodicchartelement</code>. Cool things are starting to happen here people!</p>
<p>So how do we do this? First, similar to controllers, directives are defined on the module for our application via the
<code>module.directive</code> API. Within here, we can setup a small template. Our JavaScript would look something like</p>
<pre class="highlight"><code class="hljs javascript">.directive(<span class="hljs-string">'periodicchartelement'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> {
      template: <span class="hljs-string">'Name: {{element.name}} Atomic Weight: {{element.weight}}'</span>
    };
  });
</code></pre>
<p>Of course, we can break the template into its own file by using templateUrl as we have discussed
<a href="http://www.jptacek.com/2014/02/angularJS-templates/">earlier</a>, which is the preferred approach.</p>
<p>We next define what part of our HTML our directive will be expanding. We do this by using <code>restrict</code> to
indicate the DOM element we are creating from the following options</p>
<ul>
<li><code>&#39;A&#39;</code> - The attribute of a DOM element. for example  <code>&lt;div periodicchartelement=&quot;element&quot;&gt;</code></li>
<li><code>&#39;C&#39;</code> - class name</li>
<li><code>&#39;E&#39;</code> - A new element name, for example  <code>&lt;periodicchartelement&gt;&lt;/periodicchartelement&gt;</code></li>
</ul>
<p>There is also the ability creative directives tied to HTML comments with <code>restrict:M</code>. The restrict keyword
can also be combined together to in a manner such as <code>ACM</code>, indicating the directive applies to attributes, classes,
and comments.</p>
<pre class="highlight"><code class="hljs javascript">.directive(<span class="hljs-string">'periodicchartelement'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> {
    restrict: <span class="hljs-string">'E'</span>,
      template: <span class="hljs-string">'Name: {{element.name}} Atomic Weight: {{element.weight}}'</span>
    };
  });
</code></pre>
<p>Our directive function now creates a new HTML element, <code>periodicchartelement</code>.</p>
<p>For the example we are creating, we have changed a few things in comparison to previous posts.
Based on our <a href="http://www.jptacek.com/2014/05/angularJS-Intro-To-Services/">introduction of services</a>
 last time, we have wrapped our periodic data in a service with a function called <code>getElements()</code>. Second, we have expanded the properties
 of our JSON object used in the application to include fields about the periodicity of chemical elements. Here is an example</p>
<pre class="highlight"><code class="hljs javascript">  {<span class="hljs-string">"atomicNumber"</span>: <span class="hljs-number">1</span>,
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"Hydrogen"</span>,
  <span class="hljs-string">"atomicWeight"</span>: <span class="hljs-number">1.00794</span>,
  <span class="hljs-string">"phase"</span>: <span class="hljs-string">"Gas"</span>,
  <span class="hljs-string">"ionization"</span>: <span class="hljs-number">13.5984</span>,
  <span class="hljs-string">"melting"</span>: -<span class="hljs-number">259.14</span>,
  <span class="hljs-string">"boiling"</span>: -<span class="hljs-number">252.87</span>,
  <span class="hljs-string">"electronegativity"</span>: <span class="hljs-number">2.2</span>,
  <span class="hljs-string">"type"</span>: <span class="hljs-string">'Non Metal'</span>,
  <span class="hljs-string">"group"</span>: <span class="hljs-number">1</span>,
  <span class="hljs-string">"group2"</span>: <span class="hljs-string">'IA'</span>,
  <span class="hljs-string">"period"</span>: <span class="hljs-number">1</span>,
  <span class="hljs-string">"elecconfig"</span>: <span class="hljs-string">'1s1'</span>,
  <span class="hljs-string">"symbol"</span>: <span class="hljs-string">'H'</span>},
</code></pre>
<p>With that in place, let&#39;s create a directive that will allow us to display an element from the periodic table.</p>
<p>The first step is to create the directive function, we will create a new file, chemistryDirective.js and then hang
the directive off of our module and call it <code>`periodicchartelement</code></p>
<pre class="highlight"><code class="hljs javascript">chemistryApp.directive(<span class="hljs-string">'periodicchartelement'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(chemistryService)</span> </span>{;
    <span class="hljs-keyword">return</span> {
        restrict: <span class="hljs-string">'E'</span>,
        templateUrl: <span class="hljs-string">'/2014/06/angularJS-intro-to-directives/template/periodic-template.html'</span>,
        scope:{
            element:<span class="hljs-string">'='</span>,
            cssType:<span class="hljs-string">'=csstypeclass'</span>
        }

    }

});
</code></pre>
<p>You will notice several things. First, we are using the <code>restrict</code> keyword to explicitly identify this as a
HTML element by using the value of <code>E</code>. Second, we are loading a HTML template for display. Last, we are passing in two items, the element
from our JSON object and a cssType, which is a function from our scope to display our CSS class.</p>
<p>Our HTML markup is pretty basic. Notice though where we are setting a CSS class using <code>ng-class</code> and binding to the value
of cssType.</p>
<pre class="highlight"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">'periodicCell'</span> <span class="hljs-attribute">ng-class</span>=<span class="hljs-value">"cssType"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">span</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"text-align: left"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">small</span>&gt;</span>{{element.atomicNumber}}<span class="hljs-tag">&lt;/<span class="hljs-title">small</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>&amp;nbsp;&amp;nbsp; <span class="hljs-tag">&lt;<span class="hljs-title">span</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"text-align: right"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">small</span>&gt;</span>{{element.atomicWeight}}<span class="hljs-tag">&lt;/<span class="hljs-title">small</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">br</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">span</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"font-size:24px;"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">strong</span>&gt;</span>{{element.symbol}}<span class="hljs-tag">&lt;/<span class="hljs-title">strong</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">br</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">small</span>&gt;</span>{{element.name }}<span class="hljs-tag">&lt;/<span class="hljs-title">small</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
</code></pre>
<p>Our CSS type is then a function that determines the CSS class based on the type of element and is defined in our
service, <code>chemistryService.js</code></p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">var</span> getCssClassElement = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">( elementType)</span> </span>{
        <span class="hljs-keyword">var</span> cssClass = <span class="hljs-string">''</span>;
        elementType = elementType.toLowerCase();
        cssClass = elementType;
        <span class="hljs-keyword">switch</span> (elementType) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">'metalloids'</span>:
                cssClass = <span class="hljs-string">'metalloids'</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'alkali metal'</span>:
                cssClass = <span class="hljs-string">'alkaliMetal'</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'non metal'</span>:
                cssClass = <span class="hljs-string">'nonMetal'</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'noble gas'</span>:
                cssClass = <span class="hljs-string">'nobleGas'</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'halogen'</span>:
                cssClass = <span class="hljs-string">'halogen'</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'alkaline earth'</span>:
                cssClass = <span class="hljs-string">'alkalineEarth'</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'poor metal'</span>:
                cssClass = <span class="hljs-string">'poorMetal'</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'rare earth metal'</span>:
                cssClass = <span class="hljs-string">'lathanoids'</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'transition metal'</span>:
                cssClass = <span class="hljs-string">'actinoids'</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'alkaline earth metal'</span>:
                cssClass = <span class="hljs-string">'poorMetal'</span>;
                <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-keyword">return</span> cssClass;
    };
</code></pre>
<p><div id="app" ng-app="chemistryApp">
    <div id="app" ng-controller="chemistryController">
    <div class="row">
            <select ng-model="periodicElement" ng-options="e.name for e in elements" ng-click="updateController(periodicElement)"></select><br>
            </div>
            <div class="row">
                &nbsp;
            </div>
            <div class="row">
            <div class="col-md-2">
                <periodicchartelement element="periodicElement" csstypeclass="getCssClassElement"></periodicchartelement>
                </div>
            <div class="col-md-3">
                <div class="metalloids"><b>Metalloids</b></div>
                <div class="alkaliMetal"><b>Alkali Metal</b></div>
                <div class="nonMetal"><b>Non Metal</b></div>
                <div class="nobleGas"><b>Noble Gas</b></div>
                <div class="halogen"><b>Halogen</b></div>
                <div class="alkalineEarth"><b>Alkaline Earth</b></div>
                <div class="poorMetal"><b>Poor Metal</b></div>
                <div class="lathanoids"><b>Rare Earth Metal</b></div>
                <div class="actinoids"><b>Transition Metal</b></div>
                <div class="poorMetal"><b>Alkaline Earth Metal</b></div>
                </div>
            </div>
    </div>
</div>
<br>
We have now created a new HTML element! It displays the atomic number, the atomic weight, atomic symbol and the name from
our JSON object of periodic data. Based on the element type, we then color code the element appropriately.</p>
<p>This is the  most basic of introductions of creating <a href="https://docs.angularjs.org/guide/directive">directives</a> with AngularJS,
 next time, we will dig in deeper!</p>
<p>You can either visit <a href="http://angularperiodic.azurewebsites.net/">http://angularperiodic.azurewebsites.net/</a> to see the code in action and
as always find the code out on <a href="https://github.com/jptacek/AngularPeriodic">GitHub</a>.</p>

    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/angularjs/'>AngularJS</a>, <a href='/tags/javascript/'>JavaScript</a>, <a href='/tags/web/'>Web</a>
    </div>
    
    <br/>
    By <a href="https://plus.google.com/+JohnPtacek?rel=author">John Ptacek</a><br/>
    <p>&nbsp;</p>

</article>


<div class="page-nav">
    
    <a class="page-nav-older" href="/page/7/"><span class="icon icon-arrow-left-2"></span> Older</a>
    
    
    <a class="page-nav-newer" href="/page/5/">Newer <span class="icon icon-arrow-right-2"></span></a>
    
    <div class="page-nav-archives"><a href="/archives/">- Blog Archives -</a></div>
</div>

<div id="me">
    <p>
        <img src="/images/Headshot-Square.png" alt="John Ptacek" />
        I'm <b>John Ptacek</b>, a software developer for <a href="http://www.SkylineTechnologies.com">Skyline Technologies</a>.
        This blog is my contains my content and opinions, which are not those of my employer.
    </p>
    <p>Currently, I am reading 
        <a href="https://stephenking.com">End of Watch</a>
        by <a href="https://stephenking.com">Stephen King</a></p>
    <p>
        <a href="https://twitter.com/jptacek">@jptacek</a> &#8226;
        <a href="https://github.com/jptacek">GitHub</a> &#8226;
        <a href="https://www.linkedin.com/in/JohnPtacek/">LinkedIn</a> &#8226;
        <a href="https://stackoverflow.com/users/39797/john-ptacek">Stack Overflow</a> &#8226;
        <a href="https://plus.google.com/+JohnPtacek">Google+</a>
    </p>
</div>

        </div>
</div>

<div class="container">
    <div class="navbar navbar-footer">
        <p class="navbar-center navbar-text">Content copyright &copy; 2016 John Ptacek</p>
    </div>
</div>



    <script type="text/javascript" src="/vendor/angular/angular.min.js"></script>
    <script type="text/javascript" src="/vendor/angular-route/angular-route.min.js"></script>
    <script type="text/javascript" src="/vendor/angular-animate/angular-animate.min.js"></script>

 

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
    <script src="/scripts/site.js"></script>



    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-34910017-1']);
    _gaq.push(['_setDomainName', 'jptacek.com']);
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>

</body>
</html>

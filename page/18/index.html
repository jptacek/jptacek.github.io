<!DOCTYPE html>
<head>
    <!-- Meta -->
    <meta charset="utf-8"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>

    <meta name="description" content="Working at getting better with Mobile, Web and JavaScript" />

    <title>JPtacek.com - JPtacek.com | Musings on code and who knows what 3ls3</title>
    <meta name="author" content="John Ptacek">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/feed/index.xml" rel="alternate" title="Jptacek.com" type="application/atom+xml">
    <link href="/favicon.ico?v=2" rel="shortcut icon">

    <!-- Bootstrap -->
    <link href="/styles/site.css" rel="stylesheet" media="screen">
    <link href="/styles/chemistry.css" rel="stylesheet" />


    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/scripts/vendor/html5shiv.js"></script>
    <script src="/scripts/vendor/respond.min.js"></script>
    <![endif]-->

    <meta name="generator" content="DocPad v6.68.1" />
    
<script type="text/javascript" src="/scripts/vendor/angular.min.js"></script>
<script type="text/javascript" src="/scripts/vendor/angular-route.min.js"></script>
<script type="text/javascript" src="/scripts/vendor/angular-animate.min.js"></script>


    <!-- MS Live tile tag -->
    <meta name="application-name" content="JPtacek.Com"/>
     <meta name="msapplication-TileColor" content="#527578"/>
     <meta name="msapplication-square70x70logo" content="tiny.png"/>
     <meta name="msapplication-square150x150logo" content="square.png"/>
     <meta name="msapplication-wide310x150logo" content="wide.png"/>
     <meta name="msapplication-square310x310logo" content="large.png"/>

</head>
<body>

<a href="https://plus.google.com/+JohnPtacek?rel=author" class="google googleplus-hidden" title="Google+">Google+</a>

<div class="navbar navbar-default navbar-static-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">John Ptacek</a> <div class="navbar-brand"> - Musings on Code</div>
        </div>
        <div class="collapse navbar-collapse navbar-right">
            <ul class="nav navbar-nav">
                <!--<li><a href="/">Blog</a></li>-->
                
                    <li><a href="/archives/">Archives</a></li>
                
                    <li><a href="/about/">About</a></li>
                
                <li class="hidden-xs">
                    <a href="/feed/index.xml" class="rss"><span class="icon icon-feed"></span></a>
                    <a href="http://twitter.com/jptacek" class="twitter"><span class="icon icon-twitter"></span></a>
                    <a href="https://plus.google.com/+johnptacek" class="googleplus"><span class="icon icon-google-plus"></span></a>
                    <a href="https://linkedin.com/in/johnptacek" class="linkedin"><span class="icon icon-linkedin"></span></a>
                    <a href="https://stackoverflow.com/users/39797/john-ptacek" class="stackoverflow"><span class="icon icon-stackoverflow"></span></a>
                    <a href="https://github.com/jptacek" class="github"><span class="icon icon-github"></span></a>
                </li>
            </ul>
            <form class="navbar-form navbar-right hidden-xs" role="search" action="http://google.com/search"
                  method="get">
                <div class="form-group">
                    <input type="search" name="q" class="form-control" placeholder="Search">
                    <input type="hidden" name="q" value="site:www.jptacek.com">
                </div>
            </form>
        </div>
    </div>
</div>

<div class="container">
        <div class="col-sm-12 col-md-10">
            
    <article class="post">
    
    <h1><a href='/2013/02/setting-up-email-for-a-custom-domain-on-a-windows-azure-hosted-website/'>Setting up email for a Custom Domain on a Windows Azure hosted website</a></h1>
    
        <div class="post-date">Feb 15th, 2013</div>

    <div class="post-content">
        <p>The blog site you are currently on, jptacek.com, is using <a href="http://www.windowsazure.com/en-us/home/scenarios/web-sites/">Windows Azure websites</a>, which is a great way to quickly get a web presence up and running. The site also provides very low barrier to entry for setting up blogging engines or CMS applications. The one thing it does not do though is offer email services out of the box.</p>
<p>One way to remedy this is to use Google Apps to create a domain for hosting of email. I use Google Apps for my personal email for me and my family and it works great. In the hope of learning something new, I thought I would see what Microsoft has to offer in the space and see what setup was like.</p>
<p>In the Microsoft world, their Google Apps competitor is really Office 365. This is overkill for what I want, since I am just looking for email. It also costs money. Microsoft offers Custom Domains which allows us to use the Outlook.Com email service for our domain.</p>
<p>Steps for getting this setup</p>
<ol>
<li>Go to <a href="http://Domains.live.com">http://Domains.live.com</a>. Note, you are going to want to use Chrome for this. The IE 10 browser looks awful
<img src="/2013/02/setting-up-email-for-a-custom-domain-on-a-windows-azure-hosted-website/021513_1309_Settingupem1.png" alt=""></li>
</ol>
<p>Versus Chrome</p>
<p><img src="/2013/02/setting-up-email-for-a-custom-domain-on-a-windows-azure-hosted-website/021513_1309_Settingupem2.png" alt=""></p>
<ol>
<li>Click the sign in button and use your Microsoft account and then click the Get Started link</li>
<li><div>Type in the custom domain you will want email for, in our case, jptacek.com. Make sure Set up Outlook.com is selected for your domain mail service, and then hit the continue button</div>
<img src="/2013/02/setting-up-email-for-a-custom-domain-on-a-windows-azure-hosted-website/021513_1309_Settingupem3.png" alt=""></li>
<li><div>You will then need to battle Microsoft&#39;s exceedingly unforgiving CAPTCHA system, after which you will be taken to the registration screen. The first step is to configure the MX record (MX is the DNS record used for mail)</div>
<img src="/2013/02/setting-up-email-for-a-custom-domain-on-a-windows-azure-hosted-website/021513_1309_Settingupem4.png" alt=""></li>
<li>Log onto your DNS provider, in our case DNSImple.com, and add the record. This varies by DNS provider. IN the case on DNSimple, we go to the Advanced section, and choose Add a Record and select MX from the dropdown</li>
<li><div>Our next step is to create a server trust record as recommended on the admin screen. This is a TXT DNS record that helps verify our email address and helps prevent the email from the site from being marked as junk</div>
<img src="/2013/02/setting-up-email-for-a-custom-domain-on-a-windows-azure-hosted-website/021513_1309_Settingupem5.png" alt=""></li>
<li>Next, we want a URL we can use to access our email. To do this, we create a CNAME record that points back to the Hotmail/Outlook . We will use mail, so mail.jptacek.com will be the URL we use when accessing email. You could use <a href="http://www.youtube.com/watch?v=-VILl6FOm6s">kwyjibo</a> if you wanted to, just remember it <span style="font-family: Wingdings;">J</span> The CNAME record needs to point back to go.domains.live.com
&nbsp;</li>
</ol>
<p><img src="/2013/02/setting-up-email-for-a-custom-domain-on-a-windows-azure-hosted-website/021513_1309_Settingupem6.png" alt=""></p>
<ol>
<li><div>It can take up to 60 minutes for your domain to resolve, you can see if your domain records are updated by using your favorite command prompt and typing the commands</div>

<ol>
<li>nslookup -type=mx jptacek.com</li>
<li>nslookup -type=txt jptacek.com</li>
</ol>
</li>
</ol>
<p>These should display values you entered earlier</p>
<ol>
<li><div>Return to Domains.live.com and log in with your Microsoft account. It will show you the domains. In this step, the DNS configuration can take a while too</div>
<img src="/2013/02/setting-up-email-for-a-custom-domain-on-a-windows-azure-hosted-website/021513_1309_Settingupem7.png" alt=""></li>
<li>When your domain is active, you can add accounts, up to 50 of them. To do this click the domain name, and click the Add button for member accounts
<img src="/2013/02/setting-up-email-for-a-custom-domain-on-a-windows-azure-hosted-website/021513_1309_Settingupem8.png" alt=""></li>
</ol>
<p><img src="/2013/02/setting-up-email-for-a-custom-domain-on-a-windows-azure-hosted-website/021513_1309_Settingupem9.png" alt="">Enter the account you want to create a long with a password</p>
<p>&nbsp;</p>
<p>You are done! You can now go to newly created email site for your custom domain, and login with your user name.</p>
<p><img src="/2013/02/setting-up-email-for-a-custom-domain-on-a-windows-azure-hosted-website/021513_1309_Settingupem10.png" alt=""></p>
<p><img src="/2013/02/setting-up-email-for-a-custom-domain-on-a-windows-azure-hosted-website/021513_1309_Settingupem11.png" alt=""></p>
<p>&nbsp;</p>
<p>You can now email me at blog [@] jptacek.com</p>
<p><strong>Update - May 27, 2014</strong> Microsoft has announced that it will no longer support custom domains using Outlook.Com. As a
 result, this content of this post is no longer valid. They
are encouraging customers to use Office 365 moving forward. You can find out more at <a href="http://domains.live.com/">domains.live.com</a></p>

    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/azure/'>Azure</a>, <a href='/tags/dns/'>DNS</a>, <a href='/tags/dnsimple/'>DNSimple</a>, <a href='/tags/email/'>email</a>, <a href='/tags/web/'>Web</a>
    </div>
    
    <br/>
    By <a href="https://plus.google.com/+JohnPtacek?rel=author">John Ptacek</a><br/>
    <p>&nbsp;</p>

</article>

    <article class="post">
    
    <h1><a href='/2013/02/creating-sitemaps-xml-file-for-wordpress-blogs-azure-websites/'>Creating Sitemaps.xml file for Wordpress blogs on Azure Websites</a></h1>
    
        <div class="post-date">Feb 13th, 2013</div>

    <div class="post-content">
        <p>When running Wordpress on Azure websites, you have the ability to create sitemaps. This enables search engines such as Google and Bing to make you content more discoverable. You can find out more about Sitemaps from <a href="http://support.google.com/webmasters/bin/answer.py?hl=en&amp;answer=156184">Google</a>.</p>
<p>The first step in the process is to upload placeholder files for the sitemap files. These are two files, Sitemap.xml and Sitemap.xml.gz (a compressed format). These files are both available on the Wordpress site, so download both <a href="http://www.wp-starter.com/wp-content/uploads/sitemap/sitemap.xml">Sitemap.xml</a> and <a href="http://www.wp-starter.com/wp-content/uploads/sitemap/sitemap.xml.gz">sitemap.xml.gz</a> locally to your computer. For this example, our local directory will be c:\scratch.</p>
<p>Next, you are going to need to upload the files to your hosted Azure website. This requires using FTP. The Azure management site has the link to this.</p>
<p><img src="/2013/02/creating-sitemaps-xml-file-for-wordpress-blogs-azure-websites/021313_1142_CreatingSit1.png" alt=""></p>
<p>&nbsp;</p>
<p>Clicking the URL will pop up the FTP client in your favorite browser. I hate that FTP client (this hate is browser agnostic). Instead, I use the FTP client on the local OS, in this case Windows 8. Go to the command prompt and:</p>
<ol>
<li>Type ftp server.ftp.azurewebsites.windows.net</li>
<li>Type in your FTP user name, being sure to include the domain name</li>
<li><p>This will put you at the top level of your hosted Azure website. You can see the files there by typing <span style="font-family: Courier New;">LS </span>(the UNIX version of the Dir command)<span style="font-family: Courier New;">
</span>
<img src="/2013/02/creating-sitemaps-xml-file-for-wordpress-blogs-azure-websites/021313_1142_CreatingSit2.png" alt=""></p>
</li>
<li><p>You will need to change directories to the location on your server that is the root for Wordpress site, in our case that is wwwroot; <span style="font-family: Courier New;">cd site\wwwroot</span></p>
</li>
<li>Now change your local directory to the location of the sitemap files you downloaded earlier using the FTP command LCD. This will change your local directory for you. In our example the location directory is c:\scratch, so <span style="font-family: Courier New;">LCD c:\scratch</span></li>
<li>You can verify the files are present locally by typing <span style="font-family: Courier New;">!dir</span>, which shells out to the command prompt</li>
<li><div>For each file, type PUT filename;</div>

<ol>
<li><span style="font-family: Courier New;">PUT sitemap.xml</span></li>
<li><span style="font-family: Courier New;">PUT sitemamp.xml.gz
</span>
It goes without saying you can use your favorite FTP client to upload the files, I just made sure to document at least one.</li>
</ol>
</li>
</ol>
<p>Now that the sitemap files are present, you need to create the content for them. This can be done by installing a Wordpress plugin. The one I use is the Google XML Sitemaps application that can be downloaded here.</p>
<p>To install this on your Wordpress site hosted on Azure is easy enough. Log in as administrator to your account.</p>
<ol>
<li><div>Go to you Plugins and choose Add New and type Google XML Sitemaps and click search</div>
<img src="/2013/02/creating-sitemaps-xml-file-for-wordpress-blogs-azure-websites/021313_1142_CreatingSit3.png" alt=""></li>
<li>Click Install Now and move onto setup
You will want to verify the location of your Sitemaps file, which the plugin automatically detect</li>
</ol>
<p><img src="/2013/02/creating-sitemaps-xml-file-for-wordpress-blogs-azure-websites/021313_1142_CreatingSit4.png" alt=""></p>
<p>&nbsp;</p>
<p>The basic options are fine for most implementations. The Plugin will automatically create zipped up files of your sitemap, rebuild on content change as well as notify Google and Bing of changes</p>
<p><img src="/2013/02/creating-sitemaps-xml-file-for-wordpress-blogs-azure-websites/021313_1142_CreatingSit5.png" alt=""></p>
<p>&nbsp;</p>
<p>The plugin allows you to build the sitemap for the first time. After it is done, you will see</p>
<p><img src="/2013/02/creating-sitemaps-xml-file-for-wordpress-blogs-azure-websites/021313_1142_CreatingSit6.png" alt=""></p>
<p>You can verify the sitemap by looking at the xml for the file. In the case of this blog, <a href="http://www.jptacek.com/sitemap.xml">http://www.jptacek.com/sitemap.xml</a></p>
<p><img src="/2013/02/creating-sitemaps-xml-file-for-wordpress-blogs-azure-websites/021313_1142_CreatingSit7.png" alt=""></p>
<p>&nbsp;</p>
<p>&nbsp;</p>

    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/azure/'>Azure</a>, <a href='/tags/seo/'>SEO</a>, <a href='/tags/wordpress/'>WordPress</a>
    </div>
    
    <br/>
    By <a href="https://plus.google.com/+JohnPtacek?rel=author">John Ptacek</a><br/>
    <p>&nbsp;</p>

</article>

    <article class="post">
    
    <h1><a href='/2013/02/configuring-dnsimple-for-azure-hosted-domains/'>Configuring DNSimple for Azure Hosted Domains</a></h1>
    
        <div class="post-date">Feb 11th, 2013</div>

    <div class="post-content">
        <p><a href="https://dnsimple.com/">DNSimple</a> is a great service for hosting and configuring DNS for domains you control. It also benefits by not being Go Daddy. I hate Go Daddy. They supported both SOPA and PIPA, run sexist television commercials and I have no love for their elephant killing CEO. Then there is their utterly confusing website, upselling tricks and poor customer service. Don&#39;t use Go Daddy.</p>
<p>DNSimple allows you to host up to 10 domains for $36 (USD) for the year. You can find pricing information at <a href="https://dnsimple.com/pricing">https://dnsimple.com/pricing</a>. For multiple domains, this is significantly cheaper than Go Daddy.</p>
<p>Another nice feature of DNSimple is they have templates for many popular sites to configure all of the necessary DNS settings required for hosting. They have templates for Google App pages, Tumblr, Wordpress, etc. While I am a developer and tend to be technical, I get lost pretty quick in the world of DNS configuration. A records, CNAME, MX, etc, etc. The templates help users get up and moving quickly.</p>
<p>However, they do not have support for Azure hosted websites. It took me a little messing around to get this to work, and finally I have it set correctly.</p>
<p>First, for this to work. You need to be hosting your website in Shared or Reserved mode. Free mode will not allow for users to have a custom domain name. To do this, log onto the Azure management portal and go to Web sites and choose your domain. Click scale and configure either Shared or Reserved. Shared is going to be MUCH cheaper.</p>
<p><img src="/2013/02/configuring-dnsimple-for-azure-hosted-domains/021113_1414_Configuring1.png" alt=""></p>
<p>&nbsp;</p>
<p>You will then want to configure your domain names. This is done by clicking Configure and Manage Domains</p>
<p><img src="/2013/02/configuring-dnsimple-for-azure-hosted-domains/021113_1414_Configuring2.png" alt=""></p>
<p>&nbsp;</p>
<p>This will provide a screen for managing custom domains.</p>
<p><img src="/2013/02/configuring-dnsimple-for-azure-hosted-domains/021113_1414_Configuring3.png" alt=""></p>
<p>The instructions do a good job of telling you what do. You want to have any domain that you want DNS to resolve for added here. In IIS speak, these are the Host headers. You will want one for WWW and another for your TLD, jptacek.com in our case. The issues I ran into was jptacek.com not registering properly and did not redirect to the main site.</p>
<p>Next, you will need to configure your DNS settings in DNSimple. Go to <a href="http://www.Dnsimple.com">www.Dnsimple.com</a> and login. To configure your DNS, go to Domains, and select the Domain you want to manage</p>
<p><img src="/2013/02/configuring-dnsimple-for-azure-hosted-domains/021113_1414_Configuring4.png" alt=""></p>
<p>Once in manage, you will want to go the Advanced Editor, which is what to use when a template is not present.</p>
<p>In here you will add for records, three CNAME records and an A name record. First, add a wildcard CNAME and have it point to your azure hosted website.</p>
<p><img src="/2013/02/configuring-dnsimple-for-azure-hosted-domains/021113_1414_Configuring5.png" alt=""></p>
<p>Next, as mentioned on the Azure site, you will need a record that will verify you own the DNS. To do that, configure the AWVerify to point to Azure&#39;s service</p>
<p><img src="/2013/02/configuring-dnsimple-for-azure-hosted-domains/021113_1414_Configuring6.png" alt=""></p>
<p>Next, a third CNAME record for WWW that goes to the Azure site</p>
<p><img src="/2013/02/configuring-dnsimple-for-azure-hosted-domains/021113_1414_Configuring7.png" alt=""></p>
<p>Last, and this is the area I ran into issues, you need to create an A record for the domain that points to the IP Address provided by Azure. This can be found on the Manage Domain settings. This will ensure that a request to the top level site, jptacek.com, will redirect to your site. Be sure to leave your subdomain blank.</p>
<p><img src="/2013/02/configuring-dnsimple-for-azure-hosted-domains/021113_1414_Configuring8.png" alt=""></p>
<p>&nbsp;</p>
<p>You may have to wait up to an hour for the changes to take effect. It is also good to flush your DNS to ensure no issues.</p>
<p>If you are looking for a DNS provider or want to switch from Go Daddy (which is horrible, have we mentioned that), check out DNSimple.com If you want, you can even click on the referral link <a href="https://dnsimple.com/r/b8a105607bde67">https://dnsimple.com/r/b8a105607bde67</a>, and get one month of free hosted DNS. Even better, I would get a free month of free hosted DNS <span style="font-family: Wingdings;">J</span></p>
<p>&nbsp;</p>

    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/azure/'>Azure</a>, <a href='/tags/dnsimple/'>DNSimple</a>, <a href='/tags/web/'>Web</a>
    </div>
    
    <br/>
    By <a href="https://plus.google.com/+JohnPtacek?rel=author">John Ptacek</a><br/>
    <p>&nbsp;</p>

</article>


<div class="page-nav">
    
    <a class="page-nav-older" href="/page/19/"><span class="icon icon-arrow-left-2"></span> Older</a>
    
    
    <a class="page-nav-newer" href="/page/17/">Newer <span class="icon icon-arrow-right-2"></span></a>
    
    <div class="page-nav-archives"><a href="/archives/">- Blog Archives -</a></div>
</div>

<div id="me">
    <p>
        <img src="/images/Headshot-Square.png" alt="John Ptacek" />
        I'm <b>John Ptacek</b>, a software developer for <a href="http://www.SkylineTechnologies.com">Skyline Technologies</a>.
        This blog is my contains my content and opinions, which are not those of my employer.
    </p>
    <p>Currently, I am reading <a href="http://www.amazon.com/Einstein-Life-Universe-Walter-Isaacson/dp/0743264738">Einstein: His Life and Universe</a>
        by Walter Isaacson</p>
    <p>
        <a href="https://twitter.com/jptacek">@jptacek</a> &#8226;
        <a href="https://github.com/jptacek">GitHub</a> &#8226;
        <a href="http://www.linkedin.com/in/JohnPtacek/">LinkedIn</a> &#8226;
        <a href="http://stackoverflow.com/users/39797/john-ptacek">Stack Overflow</a> &#8226;
        <a href="http://plus.google.com/+JohnPtacek">Google+</a>
    </p>
</div>

        </div>
</div>
<div class="container">
    <div class="navbar navbar-footer">
        <p class="navbar-center navbar-text">Content copyright &copy; 2015 John Ptacek</p>
    </div>
</div>


<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.pack.js"></script>
<script src="/scripts/vendor/highlight.pack.js"></script>
<!--<script src="http://cdnjs.cloudflare.com/ajax/libs/coffee-script/1.6.3/coffee-script.min.js"></script>-->
<script src="/scripts/site.js"></script>

<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-34910017-1']);
    _gaq.push(['_setDomainName', 'jptacek.com']);
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>

</body>
</html>
